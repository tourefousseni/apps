{% extends 'base.html' %}
{% load leaflet_tags %}
{% load static %}
{% block content %}

<div class="row col-12">
        <h4 class="text-center">CADASTRAL RURAL</h4>
        <div class="col-md-12" id="map" style="width:1200px; height: 550px">
            {% leaflet_map "map"  %}
        </div>

    </div>
    <div>
        {% leaflet_js plugins="ALL" %}
        {% leaflet_css plugins="ALL" %}
    </div>

    </div>
<script>
        var overlayMaps={};
        {% for s in shapefile %}
        var {{ s.name }}=L.TileLayer.wms('http://localhost:8080/geoserver/wms', {
            layers:'{{s.name}}',
            transparent: true,
            format:'image/png',
        });
        overlayMaps['{{s.name}}']={{s.name}}
        {% endfor %}

         L.control.layers(BaseMaps, overlayMaps,{collapse:false,position:'topleft'}).addTo(map);

        var map = L.map('map', {
            center: [51.505, -0.09],
            zoom: 13
        });
        var lc = map.layerscontrol;
            // An example from the Atlas of Living Australia https://www.ala.org.au/
            lc.addOverlay(L.tileLayer.wms('https://spatial-beta.ala.org.au/geoserver/ALA/wms',
            {layers: 'ALA:aus2', format: 'image/png', transparent: true}),
            'Australia'
            );
            add.lc.addOverlay(map);

            var nexrad = L.tileLayer.wms("http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi", {
                layers: 'nexrad-n0r-900913',
                format: 'image/png',
                transparent: true,
                attribution: "Weather data Â© 2012 IEM Nexrad"
});
        
        {#layers as needed#}

 </script>
{% endblock %}